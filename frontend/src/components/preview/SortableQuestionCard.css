/* SortableQuestionCard样式 - 与QuestionCard.css保持一致 */

/* 导入QuestionCard的样式 */
@import '../question/QuestionCard.css';

/* SortableQuestionCard特定的样式 */
.sortable-question-card {
  /* 继承QuestionCard的基础样式 */
  font-family: 'WenYuan', 'SimSun', 'STSong', 'Times New Roman', 'Times', serif;
  color: inherit;
}

/* 卡片容器样式 */
.sortable-question-card .card {
  background-color: #ffffff;
  border: 1px solid #e5e7eb;
  transition: all 0.2s ease-in-out;
}

.dark .sortable-question-card .card {
  background-color: #1f2937;
  border-color: #4b5563;
}

/* 拖拽手柄样式 */
.sortable-question-card .drag-handle {
  color: #9ca3af;
  transition: all 0.2s ease-in-out;
}

.sortable-question-card .drag-handle:hover {
  background-color: #f3f4f6;
  color: #6b7280;
}

.dark .sortable-question-card .drag-handle:hover {
  background-color: #374151;
  color: #d1d5db;
}

/* 题目编号样式 */
.sortable-question-card .question-number {
  color: #6b7280;
  font-weight: 500;
}

.dark .sortable-question-card .question-number {
  color: #9ca3af;
}

/* 选择状态样式 */
.sortable-question-card .selection-button {
  transition: all 0.2s ease-in-out;
}

.sortable-question-card .selection-button:hover {
  background-color: #f3f4f6;
}

.dark .sortable-question-card .selection-button:hover {
  background-color: #374151;
}

/* 操作按钮样式 */
.sortable-question-card .action-button {
  transition: all 0.2s ease-in-out;
}

.sortable-question-card .action-button:hover {
  background-color: #f3f4f6;
}

.dark .sortable-question-card .action-button:hover {
  background-color: #374151;
}

/* 题目内容区域样式 */
.sortable-question-card .question-content {
  min-height: 10rem; /* 从8rem增加到10rem */
}

/* 选项样式 - 与QuestionCard保持一致 */
.sortable-question-card .option-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.75rem;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  background-color: #ffffff;
  transition: all 0.2s ease-in-out;
  margin-bottom: 0.5rem;
}

.sortable-question-card .option-item:hover {
  background-color: #f9fafb;
  border-color: #d1d5db;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.dark .sortable-question-card .option-item {
  border-color: #4b5563;
  background-color: #1f2937;
}

.dark .sortable-question-card .option-item:hover {
  background-color: #374151;
  border-color: #6b7280;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* 选项编号样式 */
.sortable-question-card .option-number {
  flex-shrink: 0;
  width: 1.5rem;
  height: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background-color: #f3f4f6;
  color: #374151;
  font-weight: 600;
  font-size: 0.875rem;
  line-height: 1;
}

.dark .sortable-question-card .option-number {
  background-color: #4b5563;
  color: #f9fafb;
}

/* 选项内容样式 */
.sortable-question-card .option-content {
  flex: 1;
  min-width: 0;
  line-height: 1.6;
}

/* 标签样式 - 与QuestionCard保持一致 */
.sortable-question-card .tag {
  font-size: 0.75rem;
  font-weight: 500;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  transition: all 0.2s ease-in-out;
}

/* 题目类型标签 */
.sortable-question-card .tag.type-choice {
  background-color: #dbeafe;
  color: #1e40af;
}

.dark .sortable-question-card .tag.type-choice {
  background-color: #1e3a8a;
  color: #93c5fd;
}

.sortable-question-card .tag.type-multiple-choice {
  background-color: #e9d5ff;
  color: #7c3aed;
}

.dark .sortable-question-card .tag.type-multiple-choice {
  background-color: #5b21b6;
  color: #c4b5fd;
}

.sortable-question-card .tag.type-fill {
  background-color: #dcfce7;
  color: #166534;
}

.dark .sortable-question-card .tag.type-fill {
  background-color: #14532d;
  color: #86efac;
}

.sortable-question-card .tag.type-solution {
  background-color: #fed7aa;
  color: #c2410c;
}

.dark .sortable-question-card .tag.type-solution {
  background-color: #9a3412;
  color: #fdba74;
}

/* 难度标签 */
.sortable-question-card .tag.difficulty-1 {
  background-color: #dcfce7;
  color: #166534;
}

.dark .sortable-question-card .tag.difficulty-1 {
  background-color: #14532d;
  color: #86efac;
}

.sortable-question-card .tag.difficulty-2 {
  background-color: #dbeafe;
  color: #1e40af;
}

.dark .sortable-question-card .tag.difficulty-2 {
  background-color: #1e3a8a;
  color: #93c5fd;
}

.sortable-question-card .tag.difficulty-3 {
  background-color: #fef3c7;
  color: #92400e;
}

.dark .sortable-question-card .tag.difficulty-3 {
  background-color: #78350f;
  color: #fde68a;
}

.sortable-question-card .tag.difficulty-4 {
  background-color: #fed7aa;
  color: #c2410c;
}

.dark .sortable-question-card .tag.difficulty-4 {
  background-color: #9a3412;
  color: #fdba74;
}

.sortable-question-card .tag.difficulty-5 {
  background-color: #fee2e2;
  color: #991b1b;
}

.dark .sortable-question-card .tag.difficulty-5 {
  background-color: #7f1d1d;
  color: #fca5a5;
}

/* 分类标签 */
.sortable-question-card .tag.category {
  background-color: #e0e7ff;
  color: #3730a3;
}

.dark .sortable-question-card .tag.category {
  background-color: #312e81;
  color: #a5b4fc;
}

/* 知识点标签 */
.sortable-question-card .tag.knowledge {
  background-color: #dcfce7;
  color: #166534;
}

.dark .sortable-question-card .tag.knowledge {
  background-color: #14532d;
  color: #86efac;
}

/* 来源信息样式 */
.sortable-question-card .source-info {
  color: #6b7280;
  font-size: 0.75rem;
}

.dark .sortable-question-card .source-info {
  color: #9ca3af;
}

/* 拖拽状态样式 */
.sortable-question-card.dragging {
  opacity: 0.5;
  transform: scale(1.05);
  z-index: 1000;
}

/* 悬停状态样式 */
.sortable-question-card:hover .card {
  box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.dark .sortable-question-card:hover .card {
  box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
}

/* 网格视图特定样式 */
.sortable-question-card.grid-view {
  height: 100%;
  width: 100%; /* 确保在网格中占满列宽 */
}

.sortable-question-card.grid-view .card {
  height: 100%;
  display: flex;
  flex-direction: column;
  width: 100%; /* 确保卡片占满网格列宽 */
}

.sortable-question-card.grid-view .question-content {
  flex: 1;
  width: 100%; /* 确保内容占满卡片宽度 */
}

/* 列表视图特定样式 */
.sortable-question-card.list-view {
  width: 100%; /* 列表模式下占满容器宽度 */
  max-width: none; /* 移除最大宽度限制 */
}

.sortable-question-card.list-view .card {
  display: flex;
  align-items: stretch;
  width: 100%; /* 确保卡片占满容器宽度 */
  max-width: none; /* 移除最大宽度限制 */
}

.sortable-question-card.list-view .question-content {
  flex: 1;
  min-height: 8rem;
  width: 100%; /* 确保内容区域占满宽度 */
  max-width: none; /* 移除最大宽度限制 */
}

/* 列表模式下的LaTeX内容样式 */
.sortable-question-card.list-view .question-card-latex-content {
  width: 100% !important; /* 强制占满宽度 */
  max-width: none !important; /* 移除最大宽度限制 */
  max-height: none !important; /* 移除最大高度限制 */
  height: auto !important; /* 高度自动调整 */
}

.sortable-question-card.list-view .option-content {
  width: 100%; /* 选项内容占满宽度 */
  max-width: none; /* 移除最大宽度限制 */
}

.sortable-question-card.list-view .option-content .question-card-latex-content {
  width: 100% !important; /* 强制选项内容占满宽度 */
  max-width: none !important; /* 移除最大宽度限制 */
  max-height: none !important; /* 移除最大高度限制 */
  height: auto !important; /* 高度自动调整 */
}

/* 列表模式下的题目内容区域 */
.sortable-question-card.list-view .question-content {
  flex: 1;
  min-height: 8rem;
  width: 100%; /* 确保内容区域占满宽度 */
  max-width: none; /* 移除最大宽度限制 */
  height: auto; /* 高度自动调整 */
}

/* 响应式设计 */
@media (max-width: 768px) {
  .sortable-question-card .question-content {
    min-height: 8rem;
  }
  
  .sortable-question-card .option-item {
    padding: 0.5rem;
    gap: 0.5rem;
  }
  
  .sortable-question-card .tag {
    font-size: 0.625rem;
    padding: 0.125rem 0.375rem;
  }
  
  /* 移动端列表模式优化 */
  .sortable-question-card.list-view .card {
    width: 100vw; /* 在移动端占满视口宽度 */
    margin-left: calc(-50vw + 50%); /* 负边距技巧，让内容延伸到边缘 */
    margin-right: calc(-50vw + 50%);
  }
}

/* 确保LaTeX内容在Dark Mode下正确显示 */
.dark .sortable-question-card .question-card-latex-content {
  color: #f6f8fa;
}

.dark .sortable-question-card .question-card-latex-content .katex {
  color: #f6f8fa;
}

.dark .sortable-question-card .question-card-latex-content .katex-display {
  color: #f6f8fa;
}

.dark .sortable-question-card .question-card-latex-content .katex-html {
  color: #f6f8fa;
}
